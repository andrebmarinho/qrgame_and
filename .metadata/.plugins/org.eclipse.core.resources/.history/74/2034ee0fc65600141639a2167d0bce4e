package br.unb.cic.qrgame.ui;

import br.unb.cic.qrgame.domain.QRCode;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;

public class QRActivity extends Activity {

	private boolean createQRCode = false; //Flag que determina se um qrcode deve ser criado ao chamar essa activity.
	String qrText = null;
	//Sem parâmetros: não cria o QRcode. 	
		
	QRCode code; 	
	
	@Override
	protected void onCreate(Bundle savedInstanceState){
		super.onCreate(savedInstanceState);
		
		Bundle parametros = getIntent().getExtras();
		
		if (parametros != null){
			
			this.createQRCode = parametros.getBoolean("createQRCode");
			this.qrText = parametros.getString("codigo");
			
		}
		
		if(createQRCode){
			
			code = new QRCode(qrText, getBaseContext());
			code.encodeCode();
		
		}
		
		this.atirar();
		
		
		
	}

	private void atirar() {
		
		Intent shootActivity = new Intent(QRActivity.this, ShootActivity.class);
        startActivity(shootActivity);
        finish();
		
	}
		
}
